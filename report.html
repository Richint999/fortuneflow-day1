<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Report</title><link rel="stylesheet" href="styles.css">
<style>.subsec{margin-top:14px}.kv{display:flex;gap:8px;flex-wrap:wrap}.kv .tag{background:#203052;border:1px solid #2a3d63;padding:4px 8px;border-radius:999px}h3{margin:8px 0}</style>
</head><body><div class="topbar no-print">
  <div class="container row">
    <div class="brand">FortuneFlow</div>
    <nav>
      <a href="index.html">Home</a>
      <a href="pricing.html">Pricing</a>
      <a href="account.html">Account</a>
      <a href="report.html">Report</a>
    </nav>
  </div>
</div>
<div class="container">
  <h1>Report</h1>
  <section class="card">
    <div class="no-print" style="margin-bottom:10px">
      <a class="button" href="index.html">Back to Home</a>
      <button onclick="window.print()">Download / Print</button>
    </div>
    <div id="r-pillars" class="mono"></div>
    <div id="r-elements"></div>
    <div id="r-lucky" class="mono" style="margin-top:8px"></div>
    <div id="pro-sections" style="display:none">
      <div class="subsec"><h3>Career Fit</h3><div id="career-good" class="kv"></div></div>
      <div class="subsec"><h3>Use Caution</h3><div id="career-caution" class="kv"></div></div>
      <div class="subsec"><h3>Strengths & Risks</h3><div id="strengths" class="kv"></div><div id="risks" class="kv" style="margin-top:6px"></div></div>
      <div class="subsec"><h3>Action Tips (Next 7 Days)</h3><ul id="actions" style="margin:0 0 0 18px"></ul></div>
      <div class="subsec"><h3>Lucky Windows</h3><div id="windows" class="kv"></div></div>
    </div>
    <div class="print-only" style="margin-top:8px"><small>Generated by FortuneFlow</small></div>
  </section>
</div>
<script>
function renderReportTable(counts){
  const table=document.createElement('table');
  table.innerHTML='<thead><tr><th>Five Elements</th><th style="text-align:right">#</th></tr></thead>';
  const tb=document.createElement('tbody');
  ['Wood','Fire','Earth','Metal','Water'].forEach(k=>{ const tr=document.createElement('tr'); tr.innerHTML='<td>'+k+'</td><td style="text-align:right">'+(counts[k]||0)+'</td>'; tb.appendChild(tr); });
  table.appendChild(tb); const host=document.getElementById('r-elements'); host.innerHTML=''; host.appendChild(table);
}
function isPaid(){ try{ const subs=JSON.parse(localStorage.getItem('ff_subs')||'[]'); if(Array.isArray(subs)&&subs.length>0) return true; }catch(e){} return !!localStorage.getItem('ff_last_plan'); }
function topElement(counts){ return Object.entries(counts).sort((a,b)=>b[1]-a[1])[0][0]; }
function lowElement(counts){ return Object.entries(counts).sort((a,b)=>b[1]-a[1]).slice(-1)[0][0]; }
const CAREERS={Wood:['Education','Healthcare','Publishing','Non-profit','Design (sustainable)'],Fire:['Marketing','Entertainment','Culinary','Sales','Public speaking'],Earth:['Operations','Real estate','HR','Supply chain','Project management'],Metal:['Finance','Law','Engineering','Quality control','Data governance'],Water:['Tech R&D','Consulting','Logistics','Trading','Research/analysis']};
const CAUTION={Wood:['Speculative trading','High-risk sales'],Fire:['Back-office repetitive work','Isolation roles'],Earth:['Constant travel gigs','Unstructured startups'],Metal:['Unregulated ventures','Ambiguous ownership'],Water:['Rigid bureaucracy','Over-controlled environments']};
const STRENGTHS={Wood:['Growth mindset','Empathy','Planning'],Fire:['Visibility','Momentum','Storytelling'],Earth:['Reliability','Patience','Execution'],Metal:['Discipline','Standards','Precision'],Water:['Strategy','Adaptability','Insight']};
const RISKS={Wood:['Over-committing','People-pleasing'],Fire:['Burnout','Impulsiveness'],Earth:['Over-cautious','Stagnation'],Metal:['Rigidity','Perfectionism'],Water:['Indecision','Over-analysis']};
function luckyBy(key){ const map={Wood:['green','cyan'], Fire:['red','orange'], Earth:['yellow','brown'], Metal:['white','silver','gold'], Water:['black','blue','navy']}; return map[key]||[]; }
function tag(containerId, arr){ const host=document.getElementById(containerId); host.innerHTML=''; arr.forEach(t=>{ const span=document.createElement('span'); span.className='tag'; span.textContent=t; host.appendChild(span); }); }
document.addEventListener('DOMContentLoaded',()=>{
  const data = JSON.parse(localStorage.getItem('ff_result_en')||'null');
  if(!data){ document.getElementById('r-pillars').textContent='(No data. Go to Home and calculate first.)'; return; }
  renderReportTable(data.counts);
  const lucky = (data.lucky||[]).join(', ');
  document.getElementById('r-lucky').textContent = 'Lucky colors: ' + (lucky || '—');
  document.getElementById('r-pillars').textContent = 'Pillars: calculated on Home page';
  if(isPaid()){
    document.getElementById('pro-sections').style.display='block';
    const most = topElement(data.counts); const least = lowElement(data.counts);
    tag('career-good', CAREERS[most]||[]); tag('career-caution', CAUTION[least]||[]);
    tag('strengths', STRENGTHS[most]||[]); tag('risks', RISKS[least]||[]);
    const ul=document.getElementById('actions'); ul.innerHTML='';
    ['Schedule key calls when you have high energy (morning or after workout).','Batch routine tasks into one focused block (45–60 min).','Make one small step that favors your weakest element (build balance).'].forEach(t=>{ const li=document.createElement('li'); li.textContent=t; ul.appendChild(li); });
    const lw=(luckyBy(least)||[]).slice(0,2).map(c=>'Color boost: '+c); tag('windows', lw);
  }
});
</script>
</body></html>