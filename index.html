
<!doctype html><html><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>FortuneFlow — BaZi & Five Elements</title>
<link rel="stylesheet" href="styles.css">
</head><body>

<div class="container">
  <div class="nav">
    <div class="logo">FortuneFlow</div>
    <div>
      <a href="/sandbox:/mnt/data/fortuneflow-day1/index.html">Home</a>
      <a href="/sandbox:/mnt/data/fortuneflow-day1/calc.html">Calculate</a>
      <a href="/sandbox:/mnt/data/fortuneflow-day1/pricing.html">Pricing</a>
      <a href="/sandbox:/mnt/data/fortuneflow-day1/account.html">Account</a>
      <a class="btn secondary" href="/sandbox:/mnt/data/fortuneflow-day1/checkout.html">Checkout</a>
    </div>
  </div>
</div>

<div class="container hero">
  <span class="badge">MVP Preview</span>
  <h1>Know your pattern, shape your future.</h1>
  <p>Practical BaZi insights you can act on today. Accurate charting with seasonal corrections, clear Five Elements balance, and actionable guidance.</p>
  <p>
    <a class="btn" href="/sandbox:/mnt/data/fortuneflow-day1/calc.html">Generate my BaZi — Free</a>
    <a class="btn secondary" href="/sandbox:/mnt/data/fortuneflow-day1/pricing.html">See Pricing</a>
  </p>
  <div class="kpis">
    <div class="card"><strong>Accurate</strong><br><span class="small">Seasonal corrections & hidden-stem weights</span></div>
    <div class="card"><strong>Actionable</strong><br><span class="small">Clear yearly/monthly suggestions</span></div>
    <div class="card"><strong>Privacy</strong><br><span class="small">Encrypted, delete anytime</span></div>
  </div>
  <h2>How it works</h2>
  <div class="grid">
    <div class="card"><strong>1) Enter birth data</strong><br>Gregorian/Lunar, birthplace, birth hour (estimation mode available).</div>
    <div class="card"><strong>2) Get your chart</strong><br>BaZi pillars, Day Master, Five Elements balance.</div>
    <div class="card"><strong>3) Unlock full report</strong><br>Pay to access career/love deep dive & monthly guidance.</div>
  </div>
  <h2>Sample Output</h2>
  <div class="grid">
    <div class="card">
      <strong>BaZi Chart</strong>
      <pre class="code">Year: 甲子 | Month: 丙寅 | Day: 庚午 | Hour: 壬子</pre>
    </div>
    <div class="card">
      <strong>Five Elements</strong>
      <div class="small">Metal 32% · Wood 18% · Water 20% · Fire 20% · Earth 10%</div>
    </div>
    <div class="card">
      <strong>Day Master Insight</strong>
      <div class="small">Your Day Master is Metal (庚). Focus on consistency, structure, and measurable progress.</div>
    </div>
  </div>
</div>

<div class="container footer">
  <div>© 2025 FortuneFlow · Privacy-first · Bilingual (EN/中文)</div>
</div>



<!-- Easy Mode: Auto-fill Year Pillar -->
<div style="margin-top:12px;padding:12px;border:1px solid #eee;border-radius:10px;background:#fafafa">
  <b>Easy Mode</b> — Enter your birth date and click "Auto-fill Year".
  <div style="display:flex;gap:8px;align-items:center;margin-top:8px;flex-wrap:wrap">
    <label for="easy-date">Birth date:</label>
    <input id="easy-date" type="date" />
    <button type="button" id="easy-btn" style="padding:6px 12px;border:0;background:#334155;color:#fff;border-radius:6px;cursor:pointer">Auto-fill Year</button>
    <span id="easy-hint" style="margin-left:8px;color:#475569"></span>
  </div>
  <div style="margin-top:6px;font-size:12px;color:#6b7280">Note: This Day‑1 demo uses a simple LiChun ≈ Feb 4 rule. Day‑2 will add precise solar terms & time zone handling.</div>
</div>
<script>
document.addEventListener("DOMContentLoaded", function(){
  const btn = document.getElementById("easy-btn");
  const inp = document.getElementById("easy-date");
  if(btn && inp){
    btn.addEventListener("click", function(){
      autofillYearFromDateStr(inp.value);
    });
  }
});
</script>


<!-- Day-2: Auto Four Pillars (approx) -->
<section class="fortune-panel" style="max-width:980px;margin:40px auto;padding:24px;border:1px solid #e5e7eb;border-radius:12px">
  <h2 style="margin:0 0 12px">Auto Four Pillars (Day-2)</h2>
  <p style="margin:0 0 8px">Enter birth date, time, and UTC offset (e.g., Los Angeles in summer is UTC-7 → enter -420).</p>
  <div style="display:flex;gap:8px;flex-wrap:wrap;align-items:center">
    <label>Date</label><input id="d2-date" type="date">
    <label>Time</label><input id="d2-time" type="time" value="12:00">
    <label>UTC offset (minutes)</label><input id="d2-off" type="number" value="-480" style="width:120px">
    <button id="d2-btn" style="padding:8px 12px;border:0;background:#0f172a;color:#fff;border-radius:8px;cursor:pointer">Auto-fill All</button>
    <span id="d2-hint" style="color:#475569"></span>
  </div>
  <div id="d2-out" style="margin-top:12px;font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;"></div>
</section>
<script src="assets/js/bazi.js" defer></script>
<script>
document.addEventListener("DOMContentLoaded", function(){
  const btn = document.getElementById("d2-btn");
  const out = document.getElementById("d2-out");
  const hint = document.getElementById("d2-hint");
  btn && btn.addEventListener("click", function(){
    const dateStr = (document.getElementById("d2-date").value||"").trim();
    const timeStr = (document.getElementById("d2-time").value||"").trim();
    const off = parseInt((document.getElementById("d2-off").value||"0"),10);
    try{
      const pillars = autoFourPillarsFromInput(dateStr, timeStr, off);
      // Fill selects if exist
      const mp = {year:"year", month:"month", day:"day", hour:"hour"};
      Object.keys(mp).forEach(k=>{
        const s = document.getElementById(`${mp[k]}-stem`);
        const b = document.getElementById(`${mp[k]}-branch`);
        if(s && b){
          s.value = String(pillars[k].stemIdx);
          b.value = String(pillars[k].branchIdx);
        }
      });
      hint.textContent = "Auto-filled. You can now click Calculate.";
      // Show readable
      const S = pillars.meta.stemsZh;
      const B = pillars.meta.branchesZh;
      const fmt = (p)=> `${S[p.stemIdx]}${B[p.branchIdx]}`;
      out.innerHTML = `
        <div>Year: ${fmt(pillars.year)} (${pillars.meta.yAdj})</div>
        <div>Month: ${fmt(pillars.month)}</div>
        <div>Day: ${fmt(pillars.day)}</div>
        <div>Hour: ${fmt(pillars.hour)}</div>
      `;
    }catch(e){
      hint.textContent = e.message || "Invalid input";
    }
  });
});
</script>

<!-- Day-1 Interactive Demo Panel (append) -->
<section class="fortune-panel" style="max-width:980px;margin:40px auto;padding:24px;border:1px solid #eee;border-radius:12px">
  <h2 style="margin:0 0 12px">BaZi → Five Elements (Day-1 Demo)</h2>
  <p style="margin:0 0 16px">Select your four pillars (Gan-Zhi). Day-2 will auto-convert from Gregorian date/time.</p>
  <div class="grid" style="display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:12px">
    <!-- Year -->
    <div>
      <label>Year Stem</label>
      <select id="year-stem"></select>
      <label>Year Branch</label>
      <select id="year-branch"></select>
    </div>
    <!-- Month -->
    <div>
      <label>Month Stem</label>
      <select id="month-stem"></select>
      <label>Month Branch</label>
      <select id="month-branch"></select>
    </div>
    <!-- Day -->
    <div>
      <label>Day Stem</label>
      <select id="day-stem"></select>
      <label>Day Branch</label>
      <select id="day-branch"></select>
    </div>
    <!-- Hour -->
    <div>
      <label>Hour Stem</label>
      <select id="hour-stem"></select>
      <label>Hour Branch</label>
      <select id="hour-branch"></select>
    </div>
  </div>
  <button id="calc-btn" style="margin-top:16px;padding:10px 16px;border:0;background:#0f172a;color:#fff;border-radius:8px;cursor:pointer">Calculate</button>

  <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-top:16px">
    <pre id="result-json" style="background:#0b1020;color:#e6e6e6;padding:12px;border-radius:10px;overflow:auto;min-height:120px"></pre>
    <div>
      <div id="advice" style="padding:12px;border:1px dashed #ddd;border-radius:10px;min-height:120px"></div>
      <div id="five-bars" style="display:flex;align-items:flex-end;gap:10px;height:120px;margin-top:10px">
        <!-- bars injected here -->
      </div>
    </div>
  </div>
</section>
<script src="assets/js/fortune.js" defer></script>

</body></html>
